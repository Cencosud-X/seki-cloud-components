{
  "$schema": "http://json-schema.org/schema",
  "allOf": [
    {
      "properties": {
        "properties": {
          "type": "object",
          "description": "Elastic properties",
          "properties": {
            "topology_id": {
              "type": "string",
              "description": "(Required) Unique topology identifier. To avoid infinite diff loops, topology blocks should be ordered alphabetically by the topology.id field. The order with the current data tiers at the time of this writing would be: 'cold', 'coordinating', 'frozen', 'hot_content', 'master', 'ml', 'warm'.",
              "default": "hot_content",
              "enum": [
                "hot_content",
                "warm",
                "cold",
                "coordinating",
                "frozen",
                "ml",
                "master"
              ]              
            },            
            "autoscale": {
              "type": "boolean",
              "description": "(Optional) Autoscaling policy defining the maximum and / or minimum total size for this topology element.",
              "default": false
            },
            "zone_count": {
              "type": "number",
              "description": "(Optional) Number of zones the instance type of the Elasticsearch cluster will span. This is used to set or unset HA on an Elasticsearch node type. If not is production, the default value is '1'.",
              "default": 1,
              "enum": [
                "1", 
                "2",
                "3"
              ] 
            },
            "min_size": {
              "type": "string",
              "description": "(Optional) Amount in Gigabytes per topology element in the '<size in GB>g' notation. When omitted, it defaults to the deployment template value.",
              "default": "16g"
            },
            "type_size_resource": {
              "type": "string",
              "description": "(Optional) Type of resource to which the size is assigned. Defaults to 'memory'",
              "default": "memory"
            }, 
            "autoscaling_max_size": {
              "type": "string",
              "description": "(Optional) Defines the maximum size the deployment will scale up to. When set, scaling up will be enabled. All tiers should support this option.",
              "default": "64g"
            },   
            "deployment_template_id": {
              "type": "string",
              "description": "Deployment template to create the deployment from. Defautls to gcp-compute-optimized. See the full list of regions and deployment templates available in ESS here: https://www.elastic.co/guide/en/cloud/current/ec-regions-templates-instances.html",
              "default": "gcp-compute-optimized",
              "enum": [
                "gcp-compute-optimized",
                "gcp-storage-optimized", 
                "gcp-storage-optimized-dense",
                "gcp-memory-optimized",
                "gcp-general-purpose",
                "gcp-cpu-optimized",
                "gcp-hot-warm",
                "gcp-appsearch-dedicated",
                "gcp-io-optimized"
              ]
            }
          }
        }
      }
    },
    {
      "$ref": "https://raw.githubusercontent.com/Cencosud-X/seki-schemas/main/v1/cloud/component.schema.json"
    }
  ]
}